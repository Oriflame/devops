# about this template: it contains steps needed for pushing the package

# guidance for parameters:
# - all of parameters should be passed from calling pipeline
# - all parameters are replaced in the template when the template is loaded = it's a simple replace
# - therefore all usages needs to be surrounded by ''

parameters:
  nugetDevOpsFeedToPublish: '! need to be set by pipeline !'

steps:
- task: DotNetCoreCLI@2
  displayName: 'NuGet push'
  inputs:
    command: push
    packagesToPush: '$(Build.ArtifactStagingDirectory)/*.symbols.nupkg'
    publishVstsFeed: '${{ parameters.nugetDevOpsFeedToPublish }}'
  condition: and(succeeded(), eq(variables['pushpackage'], 'true'))
