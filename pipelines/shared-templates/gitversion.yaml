# about this template: it contains steps to update/prepare version based on tags etc

steps:

- task: GitVersion@5
  displayName: 'GitVersion'
  inputs:
    runtime: 'core'

- script: echo ##vso[task.setvariable variable=Version]$(GitVersion.SemVer)-$(Build.BuildId)
  displayName: "Set build version (prerelease)"
  condition: and(succeeded(), ne(variables['GitVersion.NuGetPreReleaseTag'], ''))

- script: echo ##vso[task.setvariable variable=Version]$(GitVersion.SemVer)
  displayName: "Set build version (release)"
  condition: and(succeeded(), eq(variables['GitVersion.NuGetPreReleaseTag'], ''))